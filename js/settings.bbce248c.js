(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings"],{1276:function(t,e,n){"use strict";var r=n("d784"),a=n("44e7"),i=n("825a"),c=n("1d80"),l=n("4840"),s=n("8aa5"),o=n("50c4"),u=n("14c3"),p=n("9263"),d=n("9f7f"),h=d.UNSUPPORTED_Y,f=[].push,b=Math.min,g=4294967295;r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(c(this)),i=void 0===n?g:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!a(t))return e.call(r,t,i);var l,s,o,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,b=new RegExp(t.source,d+"g");while(l=p.call(b,r)){if(s=b.lastIndex,s>h&&(u.push(r.slice(h,l.index)),l.length>1&&l.index<r.length&&f.apply(u,l.slice(1)),o=l[0].length,h=s,u.length>=i))break;b.lastIndex===l.index&&b.lastIndex++}return h===r.length?!o&&b.test("")||u.push(""):u.push(r.slice(h)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var a=c(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,a,n):r.call(String(a),e,n)},function(t,a){var c=n(r,t,this,a,r!==e);if(c.done)return c.value;var p=i(t),d=String(this),f=l(p,RegExp),O=p.unicode,v=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(h?"g":"y"),j=new f(h?"^(?:"+p.source+")":p,v),m=void 0===a?g:a>>>0;if(0===m)return[];if(0===d.length)return null===u(j,d)?[d]:[];var y=0,x=0,k=[];while(x<d.length){j.lastIndex=h?0:x;var C,R=u(j,h?d.slice(x):d);if(null===R||(C=b(o(j.lastIndex+(h?x:0)),d.length))===y)x=s(d,x,O);else{if(k.push(d.slice(y,x)),k.length===m)return k;for(var E=1;E<=R.length-1;E++)if(k.push(R[E]),k.length===m)return k;x=y=C}}return k.push(d.slice(y)),k}]}),h)},"14c3":function(t,e,n){var r=n("c6b6"),a=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"26d3":function(t,e,n){"use strict";n.r(e);var r=n("7a23"),a={class:"container"},i=Object(r["i"])("hr",null,null,-1),c={name:"settings-form",id:"settings-form"},l={class:"row"},s={class:"col-lg-6"},o=Object(r["i"])("h2",null,"Characters",-1),u=Object(r["i"])("h3",null,"Add a new character",-1),p={class:"mb-3"},d=Object(r["i"])("label",{for:"inputCharacterID",class:"form-label"},"Profile URL",-1),h=Object(r["i"])("div",{class:"form-text"},[Object(r["h"])(" The URL for your character profile. You can find it in "),Object(r["i"])("a",{class:"text-reset",href:"https://na.finalfantasyxiv.com/lodestone/character/",target:"_blank",rel:"noopener noreferrer"},"Lodestone"),Object(r["h"])(". ")],-1),f={key:0,type:"button",id:"settings-save-btn",class:"btn btn-success",disabled:""},b=Object(r["i"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),g=Object(r["h"])(" Adding, please wait... "),O=Object(r["i"])("br",null,null,-1),v=Object(r["i"])("br",null,null,-1),j=Object(r["i"])("h3",null,"Your characters",-1),m={key:2,class:"list-group list-group-flush"},y=Object(r["i"])("li",{class:"list-group-item d-flex justify-content-between align-items-start"}," Once you add your characters, they will appear here. ",-1),x={key:3,class:"list-group list-group-flush"},k={class:"ms-2 me-auto"},C={style:{float:"left"}},R={class:"fw-bold"},E=Object(r["i"])("br",null,null,-1),w={key:0,class:"text-info fw-light"},S={key:1,class:"text-muted fw-light"},U={key:0,class:"text-warning"},I=Object(r["i"])("br",null,null,-1),A=Object(r["i"])("abbr",{title:"The achievements for this characters are not set to public in Lodestone."}," Achievements are not public. ",-1),L=Object(r["i"])("span",{class:"tt-text"},"Update data",-1),D=Object(r["h"])("    "),P=Object(r["i"])("span",{class:"tt-text"},"Remove character",-1),T=Object(r["i"])("br",null,null,-1),$={class:"col-lg-6"},_=Object(r["i"])("h2",null,"General",-1),N=Object(r["i"])("h3",null,"Content spoilers",-1),M={class:"form-check"},Y=Object(r["i"])("label",{class:"form-check-label",for:"inputSpoilersOption0"}," Blur out all story-related encounters ",-1),H={class:"form-check"},B=Object(r["i"])("label",{class:"form-check-label",for:"inputSpoilersOption1"}," Blur out non-completed story-related encounters ",-1),W={class:"form-check"},V=Object(r["i"])("label",{class:"form-check-label",for:"inputSpoilersOption2"},"Show all encounters",-1),K=Object(r["i"])("div",{class:"form-text"},"Preference in hiding potential spoilers.",-1),G=Object(r["i"])("br",null,null,-1),J=Object(r["i"])("br",null,null,-1),F=Object(r["i"])("br",null,null,-1);function X(t,e,n,X,q,z){var Q=this,Z=Object(r["y"])("Alert");return Object(r["t"])(),Object(r["e"])("div",a,[Object(r["i"])("h1",null,Object(r["A"])(t.$t("page.settings")),1),q.error.msg?(Object(r["t"])(),Object(r["e"])(Z,{key:0,type:q.error.type,msg:q.error.msg},null,8,["type","msg"])):Object(r["f"])("",!0),i,Object(r["i"])("form",c,[Object(r["i"])("div",l,[Object(r["i"])("div",s,[o,u,Object(r["i"])("div",p,[d,Object(r["H"])(Object(r["i"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return q.profileURL=t}),type:"text",class:"form-control",id:"inputCharacterID",placeholder:"https://na.finalfantasyxiv.com/lodestone/character/12345/"},null,512),[[r["E"],q.profileURL]]),h]),q.adding?(Object(r["t"])(),Object(r["e"])("button",f,[b,g])):(Object(r["t"])(),Object(r["e"])("button",{key:1,onClick:e[2]||(e[2]=function(){return z.addCharacter&&z.addCharacter.apply(z,arguments)}),type:"button",id:"settings-save-btn",class:["btn btn-success",{disabled:!q.profileURL}]}," Add character ",2)),O,v,j,this.$store.getters.hasCharacter?(Object(r["t"])(),Object(r["e"])("ul",x,[(Object(r["t"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(this.$store.state.characters,(function(t,e){return Object(r["t"])(),Object(r["e"])("li",{key:t.ID,class:"list-group-item d-flex justify-content-between align-items-start"},[Object(r["i"])("div",k,[Object(r["i"])("img",{style:{display:"block",float:"left",height:"50px"},class:"avatar-list",src:t.characterData.Character.Avatar,alt:"Portrait of your character"},null,8,["src"]),Object(r["i"])("div",C,[Object(r["i"])("span",R,Object(r["A"])(t.characterData.Character.Name),1),E,Q.updating==t.characterData.Character.ID?(Object(r["t"])(),Object(r["e"])("span",w," Loading latest character data... ")):(Object(r["t"])(),Object(r["e"])("span",S,[Object(r["h"])(" Last updated "+Object(r["A"])(z.lastUpdatedAt(t.lastUpdated))+". ",1),t.characterData.AchievementsPublic?Object(r["f"])("",!0):(Object(r["t"])(),Object(r["e"])("span",U,[I,A]))]))])]),Q.updating?Object(r["f"])("",!0):(Object(r["t"])(),Object(r["e"])("a",{key:0,class:"bi-arrow-repeat text-secondary cursor-pointer tt",onClick:function(e){return z.refreshCharacter(t.characterData.Character.ID)}},[L],8,["onClick"])),D,Object(r["i"])("a",{class:"bi-trash text-danger cursor-pointer tt",onClick:function(t){return z.removeCharacter(e)}},[P],8,["onClick"])])})),128))])):(Object(r["t"])(),Object(r["e"])("ul",m,[y])),T]),Object(r["i"])("div",$,[_,N,Object(r["i"])("div",M,[Object(r["H"])(Object(r["i"])("input",{"onUpdate:modelValue":e[3]||(e[3]=function(t){return q.settings.spoilersOption=t}),class:"form-check-input",type:"radio",name:"inputSpoilersOption",id:"inputSpoilersOption0",value:"0"},null,512),[[r["D"],q.settings.spoilersOption]]),Y]),Object(r["i"])("div",H,[Object(r["H"])(Object(r["i"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(t){return q.settings.spoilersOption=t}),class:"form-check-input",type:"radio",name:"inputSpoilersOption",id:"inputSpoilersOption1",value:"1"},null,512),[[r["D"],q.settings.spoilersOption]]),B]),Object(r["i"])("div",W,[Object(r["H"])(Object(r["i"])("input",{"onUpdate:modelValue":e[5]||(e[5]=function(t){return q.settings.spoilersOption=t}),class:"form-check-input",type:"radio",name:"inputSpoilersOption",id:"inputSpoilersOption2",value:"2"},null,512),[[r["D"],q.settings.spoilersOption]]),V]),K,G,Object(r["i"])("button",{onClick:e[6]||(e[6]=function(){return z.saveSettings&&z.saveSettings.apply(z,arguments)}),type:"button",id:"settings-save-btn",class:"btn btn-success"}," Update settings "),J,F])])])])}var q=n("5530"),z=(n("8a79"),n("fb6a"),n("ac1f"),n("1276"),n("d3b7"),n("98ab")),Q=n("2240"),Z={name:"Settings",data:function(){return{adding:!1,updating:0,error:{},profileURL:"",settings:Object(q["a"])({},this.$store.state.settings)}},components:{Alert:z["a"]},methods:{saveSettings:function(){this.$store.commit("updateSettings",this.settings)},addCharacter:function(){var t=this;this.adding=!0,this.error={},this.profileURL.endsWith("/")&&(this.profileURL=this.profileURL.slice(0,-1));var e=this.profileURL.split("/").slice(-1).pop();Object(Q["a"])(e).then((function(e){t.$store.commit("addCharacter",e),e.AchievementsPublic?t.error={type:"success",msg:"Character <b>".concat(e.Character.Name,"</b> added! You can now access your <a href='/profile' class='alert-link'>Profile</a> and all character completion pages.")}:t.error={type:"warning",msg:"Character <b>".concat(e.Character.Name,"</b> added, but their achievements are not set to public. You can change that setting <a href='https://na.finalfantasyxiv.com/lodestone/my/setting/account/' class='alert-link' target='_blank' rel='noopener noreferrer'>here</a>, and then re-add the character.")}})).catch((function(e){console.log(e),t.error={type:"error",msg:e}})).finally((function(){t.profileURL="",t.adding=!1}))},refreshCharacter:function(t){var e=this;this.updating=t,this.error={},Object(Q["a"])(t).then((function(t){e.$store.commit("addCharacter",t)})).catch((function(t){console.log(t),e.error={type:"error",msg:t}})).finally((function(){e.profileURL="",e.updating=null}))},removeCharacter:function(t){this.$store.commit("removeCharacter",t)},lastUpdatedAt:function(t){var e=new Date,n=e-t,r=Math.floor(n/2592e6),a=Math.floor(n/864e5),i=Math.floor(n/36e5),c=Math.floor(n/6e4);return c<2?"a couple seconds ago":c<120?c+" minutes ago":i<48?i+" hours ago":a<60?a+" days ago":r+" months ago"}}};n("3fe3");Z.render=X;e["default"]=Z},"28e8":function(t,e,n){},"3fe3":function(t,e,n){"use strict";n("28e8")},"44e7":function(t,e,n){var r=n("861d"),a=n("c6b6"),i=n("b622"),c=i("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==a(t))}},"5a34":function(t,e,n){var r=n("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},"8a79":function(t,e,n){"use strict";var r=n("23e7"),a=n("06cf").f,i=n("50c4"),c=n("5a34"),l=n("1d80"),s=n("ab13"),o=n("c430"),u="".endsWith,p=Math.min,d=s("endsWith"),h=!o&&!d&&!!function(){var t=a(String.prototype,"endsWith");return t&&!t.writable}();r({target:"String",proto:!0,forced:!h&&!d},{endsWith:function(t){var e=String(l(this));c(t);var n=arguments.length>1?arguments[1]:void 0,r=i(e.length),a=void 0===n?r:p(i(n),r),s=String(t);return u?u.call(e,s,a):e.slice(a-s.length,a)===s}})},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},9263:function(t,e,n){"use strict";var r=n("ad6d"),a=n("9f7f"),i=n("5692"),c=RegExp.prototype.exec,l=i("native-string-replace",String.prototype.replace),s=c,o=function(){var t=/a/,e=/b*/g;return c.call(t,"a"),c.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec("")[1],d=o||p||u;d&&(s=function(t){var e,n,a,i,s=this,d=u&&s.sticky,h=r.call(s),f=s.source,b=0,g=t;return d&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),g=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,b++),n=new RegExp("^(?:"+f+")",h)),p&&(n=new RegExp("^"+f+"$(?!\\s)",h)),o&&(e=s.lastIndex),a=c.call(d?n:s,g),d?a?(a.input=a.input.slice(b),a[0]=a[0].slice(b),a.index=s.lastIndex,s.lastIndex+=a[0].length):s.lastIndex=0:o&&a&&(s.lastIndex=s.global?a.index+a[0].length:e),p&&a&&a.length>1&&l.call(a[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(a[i]=void 0)})),a}),t.exports=s},"98ab":function(t,e,n){"use strict";var r=n("7a23"),a=Object(r["h"])("  ");function i(t,e,n,i,c,l){return Object(r["t"])(),Object(r["e"])("div",{id:"error-block",class:["alert",{"alert-dark":"normal"==n.type,"alert-danger":"error"==n.type,"alert-warning":"warning"==n.type,"alert-success":"success"==n.type}],role:"alert"},[Object(r["i"])("span",{class:["bi",{"bi-info-circle-fill":"normal"==n.type,"bi-exclamation-triangle-fill":"error"==n.type||"warning"==n.type,"bi-check-circle-fill":"success"==n.type}]},null,2),a,Object(r["i"])("span",{innerHTML:n.msg},null,8,["innerHTML"])],2)}var c={props:{type:String,msg:String}};n("d1ff");c.render=i;e["a"]=c},"9f7f":function(t,e,n){"use strict";var r=n("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ab13:function(t,e,n){var r=n("b622"),a=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[a]=!1,"/./"[t](e)}catch(r){}}return!1}},ac1f:function(t,e,n){"use strict";var r=n("23e7"),a=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},d1ff:function(t,e,n){"use strict";n("ddd6")},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),a=n("9263"),i=n("d039"),c=n("b622"),l=n("9112"),s=c("species"),o=RegExp.prototype,u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),p=function(){return"$0"==="a".replace(/./,"$0")}(),d=c("replace"),h=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),f=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var b=c(t),g=!i((function(){var e={};return e[b]=function(){return 7},7!=""[t](e)})),O=g&&!i((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[b]=/./[b]),n.exec=function(){return e=!0,null},n[b](""),!e}));if(!g||!O||"replace"===t&&(!u||!p||h)||"split"===t&&!f){var v=/./[b],j=n(b,""[t],(function(t,e,n,r,i){var c=e.exec;return c===a||c===o.exec?g&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),m=j[0],y=j[1];r(String.prototype,t,m),r(o,b,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}d&&l(o[b],"sham",!0)}},ddd6:function(t,e,n){}}]);
//# sourceMappingURL=settings.bbce248c.js.map