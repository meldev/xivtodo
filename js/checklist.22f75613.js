(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["checklist"],{"40f1":function(e,t,s){},"503b":function(e,t,s){"use strict";s.r(t);var i=s("6b75");function c(e){if(Array.isArray(e))return Object(i["a"])(e)}s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0"),s("a630");function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var o=s("06c5");function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e){return c(e)||n(e)||Object(o["a"])(e)||r()}s("99af");var d=s("7a23"),l={class:"container"},u={class:"d-flex align-items-end"},h={class:"me-auto"},b={key:0,class:"fs-3 fw-lighter"},f=Object(d["i"])("hr",null,null,-1),m={class:"row"},O=Object(d["i"])("h2",null,"Things to do",-1),j={class:"col-md"},y=Object(d["i"])("h3",null,"Weeklies",-1),k={key:0,class:"fw-lighter text-muted"},p={key:1,class:"input-group mt-3 mb-2"},g={class:"list-group list-group-flush"},w=Object(d["i"])("br",null,null,-1),C={class:"col-md"},v=Object(d["i"])("h3",null,"Dailies",-1),D={key:0,class:"fw-lighter text-muted"},$={key:1,class:"input-group mt-3 mb-2"},I={class:"list-group list-group-flush"},x=Object(d["i"])("br",null,null,-1),H={key:2,class:"text-muted fw-light float-end"},N=Object(d["h"])(" There is 1 hidden task."),T=Object(d["i"])("br",null,null,-1),A=Object(d["i"])("br",null,null,-1),R={key:3,class:"text-muted fw-light float-end"},E=Object(d["i"])("br",null,null,-1),W=Object(d["i"])("br",null,null,-1);function S(e,t,s,i,c,n){var o=Object(d["y"])("Alert"),r=Object(d["y"])("ChecklistItem");return Object(d["t"])(),Object(d["e"])("div",l,[Object(d["i"])("h1",u,[Object(d["i"])("span",h,[Object(d["h"])(Object(d["A"])(e.$t("page.checklist"))+" ",1),this.$store.getters.hasCharacter?(Object(d["t"])(),Object(d["e"])("span",b,Object(d["A"])(e.$t("message.forCharacter",{characterName:this.$store.getters.character.Name})),1)):Object(d["f"])("",!0)]),this.$store.getters.hasCharacter?(Object(d["t"])(),Object(d["e"])("button",{key:0,type:"button",class:["btn float-end",{"btn-outline-success":!c.showHidden,"btn-success":c.showHidden}],onClick:t[1]||(t[1]=function(e){return c.showHidden=!c.showHidden})}," Customize ",2)):Object(d["f"])("",!0)]),this.$store.getters.hasCharacter?Object(d["f"])("",!0):(Object(d["t"])(),Object(d["e"])(o,{key:0,type:"normal",msg:"No characters found. You can add your characters from the <a href='/settings' class='alert-link'>Settings</a>."})),f,Object(d["i"])("div",m,[O,Object(d["i"])("div",j,[y,c.showHidden?Object(d["f"])("",!0):(Object(d["t"])(),Object(d["e"])("span",k,Object(d["A"])(c.weeklyReset)+" until reset",1)),c.showHidden?(Object(d["t"])(),Object(d["e"])("div",p,[Object(d["H"])(Object(d["i"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.customWeekly=e}),type:"text",class:"form-control",placeholder:"Custom weekly"},null,512),[[d["E"],c.customWeekly]]),Object(d["i"])("button",{class:["btn btn-outline-success",{disabled:!c.customWeekly}],type:"button",id:"button-addon2",onClick:t[3]||(t[3]=function(){return n.addCustomWeekly&&n.addCustomWeekly.apply(n,arguments)})}," Add custom weekly ",2)])):Object(d["f"])("",!0),Object(d["i"])("ul",g,[(Object(d["t"])(!0),Object(d["e"])(d["a"],null,Object(d["x"])([].concat(a(c.db.weeklyChecklist),a(this.$store.getters.todosCustomWeeklies)),(function(e){return Object(d["t"])(),Object(d["e"])(r,{key:e.ID,item:e,showHidden:c.showHidden,rerender:c.rerender},null,8,["item","showHidden","rerender"])})),128))]),w]),Object(d["i"])("div",C,[v,c.showHidden?Object(d["f"])("",!0):(Object(d["t"])(),Object(d["e"])("span",D,Object(d["A"])(c.dailyReset)+" until reset",1)),c.showHidden?(Object(d["t"])(),Object(d["e"])("div",$,[Object(d["H"])(Object(d["i"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.customDaily=e}),type:"text",class:"form-control",placeholder:"Custom daily"},null,512),[[d["E"],c.customDaily]]),Object(d["i"])("button",{class:["btn btn-outline-success",{disabled:!c.customDaily}],type:"button",id:"button-addon2",onClick:t[5]||(t[5]=function(){return n.addCustomDaily&&n.addCustomDaily.apply(n,arguments)})}," Add custom daily ",2)])):Object(d["f"])("",!0),Object(d["i"])("ul",I,[(Object(d["t"])(!0),Object(d["e"])(d["a"],null,Object(d["x"])([].concat(a(c.db.dailyChecklist),a(this.$store.getters.todosCustomDailies)),(function(e){return Object(d["t"])(),Object(d["e"])(r,{key:e.ID,item:e,showHidden:c.showHidden,rerender:c.rerender},null,8,["item","showHidden","rerender"])})),128))]),x,1==this.$store.getters.todosHidden.length?(Object(d["t"])(),Object(d["e"])("span",H,[N,T,A])):this.$store.getters.todosHidden.length>1?(Object(d["t"])(),Object(d["e"])("span",R,[Object(d["h"])(" There are "+Object(d["A"])(this.$store.getters.todosHidden.length)+" hidden tasks.",1),E,W])):Object(d["f"])("",!0)])])])}var M=s("b85c"),U=(s("d81d"),s("98ab")),_={key:0,class:"\n      list-group-item list-group-item-action\n      d-flex\n      justify-content-between\n      align-items-center\n      user-select-none\n    "},V=Object(d["h"])("   "),F={key:1,class:"list-group-item d-flex justify-content-between align-items-center"},G={key:0},L=Object(d["i"])("span",{class:"tt-text"},"Remove",-1),Y=Object(d["i"])("span",{class:"tt-text"},"Show",-1),J=Object(d["i"])("span",{class:"tt-text"},"Hide",-1);function P(e,t,s,i,c,n){return Object(d["t"])(),Object(d["e"])(d["a"],null,[c.hidden||s.showHidden?Object(d["f"])("",!0):(Object(d["t"])(),Object(d["e"])("label",_,[Object(d["i"])("span",null,[!s.showHidden&&this.$store.getters.hasCharacter?Object(d["H"])((Object(d["t"])(),Object(d["e"])("input",{key:0,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.checked=e}),class:[{"checkbox-checked":c.checked},"form-check-input"],type:"checkbox",id:s.item.Name},null,10,["id"])),[[d["C"],c.checked]]):Object(d["f"])("",!0),V,Object(d["i"])("span",{class:{"checklist-checked":c.checked}},Object(d["A"])(s.item.Name),3)])])),s.showHidden?(Object(d["t"])(),Object(d["e"])("span",F,[Object(d["i"])("span",{class:[{"text-muted":c.hidden},"user-select-none"]},Object(d["A"])(s.item.Name),3),s.showHidden?(Object(d["t"])(),Object(d["e"])("span",G,[s.item.Custom?(Object(d["t"])(),Object(d["e"])("a",{key:0,class:"bi-trash text-danger cursor-pointer tt",onClick:t[2]||(t[2]=function(){return n.remove&&n.remove.apply(n,arguments)})},[L])):c.hidden?(Object(d["t"])(),Object(d["e"])("a",{key:1,class:"bi-eye-slash text-secondary cursor-pointer tt",onClick:t[3]||(t[3]=function(){return n.hid&&n.hid.apply(n,arguments)})},[Y])):c.hidden?Object(d["f"])("",!0):(Object(d["t"])(),Object(d["e"])("a",{key:2,class:"bi-eye text-success cursor-pointer tt",onClick:t[4]||(t[4]=function(){return n.hid&&n.hid.apply(n,arguments)})},[J]))])):Object(d["f"])("",!0)])):Object(d["f"])("",!0)],64)}s("a9e3");var X={data:function(){return{checked:this.$store.getters.todosChecked.indexOf(this.item.ID)>=0,hidden:this.$store.getters.todosHidden.indexOf(this.item.ID)>=0}},props:{item:Object,showHidden:Boolean,rerender:Number},watch:{checked:function(){this.$store.commit("todoChecked",{id:this.item.ID,checked:this.checked})},rerender:function(){this.checked=this.$store.getters.todosChecked.indexOf(this.item.ID)>=0,this.hidden=this.$store.getters.todosHidden.indexOf(this.item.ID)>=0}},methods:{hid:function(){this.hidden=!this.hidden,this.$store.commit("todoHidden",{id:this.item.ID,hidden:this.hidden})},remove:function(){this.$store.commit("todosRemoveCustom",this.item.ID)}}};s("f33e");X.render=P;var z=X,B=s("b35b"),q={name:"Checklist",data:function(){return{db:B,rerender:0,showHidden:!1,weeklyReset:this.formatTimeDiff(this.weeklyResetTime(),!0),dailyReset:this.formatTimeDiff(this.dailyResetTime(),!1),customWeekly:"",customDaily:""}},components:{Alert:U["a"],ChecklistItem:z},mounted:function(){var e=this;this.$nextTick((function(){if(this.$store.getters.hasCharacter){var e,t=this.db.dailyChecklist.map((function(e){return e.ID})),s=this.db.weeklyChecklist.map((function(e){return e.ID})),i=this.$store.getters.todosCustomDailies.map((function(e){return e.ID})),c=this.$store.getters.todosCustomWeeklies.map((function(e){return e.ID})),n=[].concat(a(t),a(s),a(i),a(c)),o=this.$store.getters.todosChecked,r=Object(M["a"])(o);try{for(r.s();!(e=r.n()).done;){var d=e.value;-1==n.indexOf(d)&&this.$store.commit("todoChecked",{id:d,checked:!1})}}catch(f){r.e(f)}finally{r.f()}var l,u=this.$store.getters.todosHidden,h=Object(M["a"])(u);try{for(h.s();!(l=h.n()).done;){var b=l.value;-1==n.indexOf(b)&&this.$store.commit("todoHidden",{id:b,checked:!1})}}catch(f){h.e(f)}finally{h.f()}}})),setInterval((function(){if(e.weeklyReset=e.formatTimeDiff(e.weeklyResetTime(),!0),e.dailyReset=e.formatTimeDiff(e.dailyResetTime(),!1),e.rerender++,e.$store.getters.hasCharacter){if(e.$store.getters.todosNextWeeklyReset<Date.now()){e.$store.commit("todosNextWeeklyReset",e.weeklyResetTime());var t,s=e.$store.getters.todosChecked,i=Object(M["a"])(s);try{for(i.s();!(t=i.n()).done;){var c=t.value;c>=1e3&&c<2e3&&e.$store.commit("todoChecked",{id:c,checked:!1})}}catch(d){i.e(d)}finally{i.f()}}if(e.$store.getters.todosNextDailyReset<Date.now()){e.$store.commit("todosNextDailyReset",e.dailyResetTime());var n,o=e.$store.getters.todosChecked,r=Object(M["a"])(o);try{for(r.s();!(n=r.n()).done;){var a=n.value;a>=2e3&&a<3e3&&e.$store.commit("todoChecked",{id:a,checked:!1})}}catch(d){r.e(d)}finally{r.f()}}}}),1e3)},methods:{weeklyResetTime:function(){var e=new Date,t=new Date;t.setUTCHours(8,0,0),t.setDate(e.getDate()+(9-e.getDay()));var s=t-e,i=6048e5;return s%i+e.getTime()},dailyResetTime:function(){var e=new Date,t=new Date;t.setUTCHours(15,0,0),t.setUTCDate(t.getDate()+1);var s=t-e,i=864e5;return s%i+e.getTime()},formatTimeDiff:function(e,t){var s=new Date,i=e-s,c=864e5,n=36e5,o=6e4,r=1e3,a=Math.floor(i/c),d=Math.floor(i/n)-24*Math.floor(i/c),l=Math.floor(i/o)-60*Math.floor(i/n),u=Math.floor(i/r)-60*Math.floor(i/o);return a>0&&t?"".concat(a,"d ").concat(d,"h"):d>0?"".concat(d,"h ").concat(l,"m"):"".concat(l,"m ").concat(u,"s")},addCustomWeekly:function(){this.$store.commit("todosAddCustomWeekly",this.customWeekly),this.customWeekly=""},addCustomDaily:function(){this.$store.commit("todosAddCustomDaily",this.customDaily),this.customDaily=""}}};q.render=S;t["default"]=q},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,s){var i=s("1d80"),c=s("5899"),n="["+c+"]",o=RegExp("^"+n+n+"*"),r=RegExp(n+n+"*$"),a=function(e){return function(t){var s=String(i(t));return 1&e&&(s=s.replace(o,"")),2&e&&(s=s.replace(r,"")),s}};e.exports={start:a(1),end:a(2),trim:a(3)}},a9e3:function(e,t,s){"use strict";var i=s("83ab"),c=s("da84"),n=s("94ca"),o=s("6eeb"),r=s("5135"),a=s("c6b6"),d=s("7156"),l=s("c04e"),u=s("d039"),h=s("7c73"),b=s("241c").f,f=s("06cf").f,m=s("9bf2").f,O=s("58a8").trim,j="Number",y=c[j],k=y.prototype,p=a(h(k))==j,g=function(e){var t,s,i,c,n,o,r,a,d=l(e,!1);if("string"==typeof d&&d.length>2)if(d=O(d),t=d.charCodeAt(0),43===t||45===t){if(s=d.charCodeAt(2),88===s||120===s)return NaN}else if(48===t){switch(d.charCodeAt(1)){case 66:case 98:i=2,c=49;break;case 79:case 111:i=8,c=55;break;default:return+d}for(n=d.slice(2),o=n.length,r=0;r<o;r++)if(a=n.charCodeAt(r),a<48||a>c)return NaN;return parseInt(n,i)}return+d};if(n(j,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,C=function(e){var t=arguments.length<1?0:e,s=this;return s instanceof C&&(p?u((function(){k.valueOf.call(s)})):a(s)!=j)?d(new y(g(t)),s,C):g(t)},v=i?b(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),D=0;v.length>D;D++)r(y,w=v[D])&&!r(C,w)&&m(C,w,f(y,w));C.prototype=k,k.constructor=C,o(c,j,C)}},d81d:function(e,t,s){"use strict";var i=s("23e7"),c=s("b727").map,n=s("1dde"),o=n("map");i({target:"Array",proto:!0,forced:!o},{map:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},f33e:function(e,t,s){"use strict";s("40f1")}}]);
//# sourceMappingURL=checklist.22f75613.js.map